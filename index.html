<!DOCTYPE html>
<html>
<head>
  <title>Sprite Toggle</title>
  <style>
    @keyframes wiggle {
      0% { transform: translateX(0); }
      25% { transform: translateX(-3px); }
      50% { transform: translateX(3px); }
      75% { transform: translateX(-2px); }
      100% { transform: translateX(0); }
    }
    @keyframes flash {
      0% { filter: brightness(1); box-shadow: 0 0 0 rgba(255, 255, 255, 0); }
      50% { filter: brightness(1.2); box-shadow: 0 0 12px rgba(255, 255, 255, 0.6); }
      100% { filter: brightness(1); box-shadow: 0 0 0 rgba(255, 255, 255, 0); }
    }
    @keyframes breathe {
      0% { transform: scale(1); }
      50% { transform: scale(1.03); }
      100% { transform: scale(1); }
    }
    #sprite {
      animation: breathe 3s ease-in-out infinite;
    }
    .wiggle {
      animation: breathe 3s ease-in-out infinite, wiggle 200ms ease-in-out, flash 200ms ease-out;
    }
    .frame {
      display: inline-block;
      padding: 12px;
      background: #d0c6a4;
      border: 6px solid #5c5341;
      box-shadow: inset 0 0 0 3px #9c9276;
    }
  </style>
</head>
<body>

<div class="frame" style="margin:0 auto;">
  <img id="sprite" src="sprite-1.png" style="cursor:pointer;display:block;">
</div>

<script>
  let showingFirst = true;
  const toggleSound = new Audio("sparkle.mp3");

  function toggleSprite() {
    toggleSound.currentTime = 0;
    toggleSound.play();
    if (showingFirst) {
      this.src = "sprite-2.png";
    } else {
      this.src = "sprite-1.png";
    }
    showingFirst = !showingFirst;
    this.classList.remove("wiggle");
    void this.offsetWidth;
    this.classList.add("wiggle");
  }

  const sprite = document.getElementById("sprite");
  sprite.onclick = function () {
    toggleSprite.call(this);
  };

  document.addEventListener("keydown", function (event) {
    if (event.code === "Space") {
      event.preventDefault();
      toggleSprite.call(sprite);
    }
  });
</script>

</body>

</html>
